<Window x:Class="shop_clothes.Registration"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:shop_clothes"
        xmlns:login="clr-namespace:LoginButtonControl;assembly=LoginButtonControl"
        xmlns:reg="clr-namespace:RegistrationButtonControl;assembly=RegistrationButtonControl"
        Title="{DynamicResource MainWindow}" 
       WindowStartupLocation="CenterScreen"
       Style="{StaticResource WindowRegistrationStyle}"
        Height="550"
        mc:Ignorable="d">
    <Grid Background="{DynamicResource SecondaryBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <StackPanel>
            <ToolBarTray DockPanel.Dock="Top" Background="{DynamicResource PrimaryBrush}">
                <ToolBar Background="{DynamicResource PrimaryBrush}">
                    <!-- Меню "Настройки" -->
                    <Menu Background="{DynamicResource PrimaryBrush}">
                        <MenuItem Header="{DynamicResource SettingsButton}" Foreground="{DynamicResource TextBrush}" Background="{DynamicResource PrimaryBrush}">

                            <!-- Смена языка -->
                            <MenuItem Header="{DynamicResource LanguageButton}" Foreground="{DynamicResource TextBrush}" Background="{DynamicResource PrimaryBrush}">
                                <MenuItem Command="{Binding ChangeLanguageCommand}" CommandParameter="ru-RU" Background="{DynamicResource PrimaryBrush}">
                                    <MenuItem.Header>
                                        <TextBlock Text="Русский (RU)" Background="{DynamicResource PrimaryBrush}" Foreground="{DynamicResource TextBrush}"/>
                                    </MenuItem.Header>
                                </MenuItem>
                                <MenuItem Command="{Binding ChangeLanguageCommand}" CommandParameter="en-US" Background="{DynamicResource PrimaryBrush}">
                                    <MenuItem.Header>
                                        <TextBlock Text="English (EN)" Background="{DynamicResource PrimaryBrush}" Foreground="{DynamicResource TextBrush}"/>
                                    </MenuItem.Header>
                                </MenuItem>
                            </MenuItem>
                            <Separator/>
                            <!-- Смена темы -->
                            <MenuItem Header="{DynamicResource ThemeButton}" Foreground="{DynamicResource TextBrush}" Background="{DynamicResource PrimaryBrush}">
                                <MenuItem Header="{DynamicResource LightThemeButton}" Foreground="{DynamicResource TextBrush}" Command="{Binding ChangeThemeCommand}" CommandParameter="Light" Background="{DynamicResource PrimaryBrush}"/>
                                <MenuItem Header="{DynamicResource DarkThemeButton}" Foreground="{DynamicResource TextBrush}" Command="{Binding ChangeThemeCommand}" CommandParameter="Dark" Background="{DynamicResource PrimaryBrush}"/>
                                <MenuItem Header="{DynamicResource HighContrastThemeButton}" Foreground="{DynamicResource TextBrush}" Command="{Binding ChangeThemeCommand}" CommandParameter="HighContrast" Background="{DynamicResource PrimaryBrush}"/>
                            </MenuItem>
                        </MenuItem>
                    </Menu>
                </ToolBar>
            </ToolBarTray>
            <!-- Заголовок -->
            <Label Grid.Row="0" 
            Content="{DynamicResource WelcomeMessage2}" 
            FontSize="18" 
            FontWeight="Bold"
            HorizontalAlignment="Center" 
            Margin="0,15,0,10"  Foreground="{DynamicResource TextBrush}"/>
        </StackPanel>
        <!-- Форма авторизации -->
        <Border Grid.Row="1" 
             Background="{DynamicResource PrimaryBrush}"
             CornerRadius="10"
             Margin="20,0,20,20"
             Padding="20">
            <StackPanel>
                <Label Content="{DynamicResource EmailTextBlock}" Foreground="{DynamicResource TextBrush}"
                    FontSize="14"
                    Margin="0,0,0,5"/>
                <TextBox x:Name="txtUsername" 
                      FontSize="14"
                      Padding="5"
                      Margin="0,0,0,15"
                      Text="{Binding UserEmail, UpdateSourceTrigger = PropertyChanged, Mode = TwoWay}" Background="{DynamicResource AccentBrush}"/>

                <Label Content="{DynamicResource PasswordTextBlock}" Foreground="{DynamicResource TextBrush}"
                    FontSize="14"
                    Margin="0,0,0,5"/>
                <PasswordBox x:Name="Password"
                         PasswordChanged="PasswordBox_PasswordChanged" 
                         FontSize="14"
                         Padding="5"
                         Margin="0,0,0,20" Background="{DynamicResource AccentBrush}"/>
                <Label Content="{DynamicResource PasswordTextBlock2}" Foreground="{DynamicResource TextBrush}"
    FontSize="14"
    Margin="0,0,0,5"/>
                <!--PasswordChanged="PasswordBox_PasswordChanged" -->
                <PasswordBox x:Name="Password2"
                             PasswordChanged="PasswordBox_PasswordChanged2" 
         FontSize="14"
         Padding="5"
         Margin="0,0,0,20" Background="{DynamicResource AccentBrush}"/>
                <login:UserControl1 
                 FontSize="14"
                 Padding="10,5"
                 HorizontalAlignment="Stretch"
                 ButtonStyle="{StaticResource LoginButtonStyle}"
                 Command="{Binding LoginCommand}"
                 CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}">

                </login:UserControl1>
                <reg:UserControl2
                  FontSize="14"
                  Padding="10,5"
                  HorizontalAlignment="Stretch"
                  ButtonStyle="{StaticResource LoginButtonStyle}"
                  Command="{Binding RegCommand}"
                  CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}">
                </reg:UserControl2>

            </StackPanel>
        </Border>
    </Grid>
</Window>
